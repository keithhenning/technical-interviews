def astar_with_max_iterations(grid, start, goal, max_iter=1000):
    iterations = 0
    while open_set and iterations < max_iter:
        # ... normal A* code ...
        iterations += 1
    return None  # Path not found within iteration limit